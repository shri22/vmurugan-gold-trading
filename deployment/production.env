# VMurugan Gold Trading - Production Environment Configuration

# ===========================================
# SQL SERVER API CONFIGURATION (.env)
# ===========================================

# Server Configuration
PORT=3001
NODE_ENV=production
HOST=0.0.0.0

# SQL Server Configuration
# IMPORTANT: Update these with your production SQL Server details
SQL_SERVER=your_production_sql_server_ip_or_domain
SQL_PORT=1433
SQL_DATABASE=VMuruganGoldTrading
SQL_USERNAME=your_production_sql_username
SQL_PASSWORD=your_production_sql_password
SQL_ENCRYPT=true
SQL_TRUST_SERVER_CERTIFICATE=false
SQL_CONNECTION_TIMEOUT=30000
SQL_REQUEST_TIMEOUT=30000

# Security Configuration
ADMIN_TOKEN=VMURUGAN_ADMIN_PRODUCTION_2025_SECURE
JWT_SECRET=your_super_secure_jwt_secret_here_minimum_32_chars
ENCRYPTION_KEY=your_32_character_encryption_key_here

# CORS Configuration (Update with your domain)
ALLOWED_ORIGINS=*
# For production, replace * with your actual domains:
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Business Configuration
BUSINESS_ID=VMURUGAN_001
BUSINESS_NAME=VMurugan Gold Trading
BUSINESS_PHONE=+91-XXXXXXXXXX
BUSINESS_EMAIL=contact@vmurugan.com

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=/var/log/vmurugan-api.log

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# MAIN SERVER CONFIGURATION (.env)
# ===========================================

# Server Configuration
MAIN_PORT=3000
MAIN_NODE_ENV=production
MAIN_HOST=0.0.0.0

# Database Configuration (if using additional MySQL/PostgreSQL)
DB_HOST=your_mysql_host
DB_PORT=3306
DB_USER=your_mysql_user
DB_PASSWORD=your_mysql_password
DB_NAME=vmurugan_gold_trading

# Security Configuration
MAIN_ADMIN_TOKEN=VMURUGAN_MAIN_ADMIN_PRODUCTION_2025
MAIN_JWT_SECRET=your_main_server_jwt_secret_here

# CORS Configuration
MAIN_ALLOWED_ORIGINS=*

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=noreply@vmurugan.com

# ===========================================
# DEPLOYMENT INSTRUCTIONS
# ===========================================

# 1. Create DigitalOcean Droplet:
#    - Ubuntu 22.04 LTS
#    - Basic plan ($4-6/month)
#    - Add SSH key

# 2. Upload your code:
#    scp -r sql_server_api root@your_server_ip:/var/www/vmurugan-api/
#    scp -r server root@your_server_ip:/var/www/vmurugan-api/

# 3. Run deployment script:
#    chmod +x deploy.sh
#    ./deploy.sh

# 4. Update environment variables:
#    nano /var/www/vmurugan-api/sql_server_api/.env
#    nano /var/www/vmurugan-api/server/.env

# 5. Restart services:
#    pm2 restart all

# ===========================================
# FLUTTER APP CONFIGURATION UPDATE
# ===========================================

# Update these files in your Flutter app:
# lib/core/config/sql_server_config.dart
# static const String serverIP = 'your_public_server_ip';

# lib/core/config/client_server_config.dart
# static const String serverDomain = 'your_public_server_ip';

# lib/core/config/server_config.dart
# static const String localIP = 'your_public_server_ip';

# ===========================================
# SECURITY RECOMMENDATIONS
# ===========================================

# 1. Setup SSL Certificate (Let's Encrypt):
#    sudo apt install certbot python3-certbot-nginx
#    sudo certbot --nginx -d yourdomain.com

# 2. Configure Firewall:
#    sudo ufw allow 22
#    sudo ufw allow 80
#    sudo ufw allow 443
#    sudo ufw enable

# 3. Regular Backups:
#    Setup automated SQL Server backups
#    Backup application files

# 4. Monitoring:
#    Setup PM2 monitoring
#    Configure log rotation

# ===========================================
# COST ESTIMATION
# ===========================================

# DigitalOcean Droplet: $4-6/month
# Domain (optional): $10-15/year
# SSL Certificate: Free (Let's Encrypt)
# Total: ~$5-7/month

# ===========================================
# SUPPORT COMMANDS
# ===========================================

# Check service status:
# pm2 status
# pm2 logs

# Restart services:
# pm2 restart vmurugan-sql-api
# pm2 restart vmurugan-main-api

# Check server resources:
# htop
# df -h
# free -h

# Check API endpoints:
# curl http://your_server_ip/api/health
# curl http://your_server_ip/health
